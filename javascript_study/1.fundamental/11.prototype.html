<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
    // prototype
    // 자바스크립트는 프로토타입 기반 언어
    // 어떤 객체를 원형(prototype)으로 삼고 이를 참조함으로써 상속과 비슷한 효과를 냄

    // var simpleArray = [];
    var simpleArray = new Array();
    console.log(simpleArray);
    console.log(Array.prototype);

    console.log(Array.prototype === simpleArray.__proto__); // true

    // 생성자 함수 Array를 new 키워드와 함께 호출하면
    // 생성자 함수 Array에 정의된 내용을 바탕으로 새로운 인스턴스 simpleArray가 생성됩니다.
    // 이때 생성된 인스턴스인 simpleArray에는 __proto__ 라는 속성이 자동으로 부여되는데
    // __proto__ 속성은 생성자 함수 Array의 prototype 속성을 참조합니다.

    // prototype 내부에는 인스턴스가 사용할 메서드와 속성을 저장합니다.
    // 그럼 인스턴스에서 자동으로 생성한 __proto__ 속성을 통해 prototype 내부에
    // 정의된 메서드와 속성을 사용할 수 있습니다.

    console.log('1##########################');

    // prototype 속성 사용 예제
    function Person(name) {
        this.name = name;
    }

    // 모든 함수는 prototype 속성을 자동으로 가지고 있음
    Person.prototype.printName = function() {
        console.log(this.name);
    };

    var ironMan = new Person("Tony Stark");
    ironMan.__proto__.printName(); // undefined
 
    ironMan.printName(); // Tony Stark
    // 위와 같이 실행할 수 있는 이유는 __proto__ 속성이 생략 가능한 속성 이기 때문입니다.
 

    // prototype 개념 정리
    // 정리하면, 자바스크립트는 함수에 자동으로 prototype 이라는 객체 타입의 속성을 생성합니다. 
    // new 연산자와 함께 함수를 호출하여 함수를 생성자 함수로써 사용할 경우,
    // 생성된 인스턴스에는 숨겨진 속성인 __proto__ 속성이 자동으로 생성됩니다.
    // 그리고 __proto__ 속성은 생성자 함수의 prototype 속성을 참조 합니다.
    // __proto__ 속성은 생략이 가능 하기 때문에 인스턴스에서 생성자 함수의 prototype 에
    // 정의된 메서드나 속성에 접근 할 수 있습니다.

    console.log('2##########################');

    // 프로토타입 체인
    // 1. 메서드 오버라이드
    // 메서드 위에 메서드를 덮어씌웠다 는 표현으로,
    // 원본을 제거하고 다른 대상으로 교체한 것이 아닌 원본 그대로 있는 상태에서 다른 대상을 위에 얹는 개념
    function Person(name){
        this.name = name;
    }

    Person.prototype.printName = function(){
        console.log(this.name);
    };

    var ironMan = new Person("Tony Stark");
    ironMan.printName(); // Tony Stark

    ironMan.printName = function(){ // printName 메서드 오버라이드
        console.log("I am " + this.name);
    };

    ironMan.printName(); // I am Tony Stark

    // 2. 프로토타입 체이닝
    // 어떤 데이터의 __proto__ 속성 내부에 다시 __proto__ 속성이 연쇄적으로 이어진 것을 '프로토타입 체인(prototype chain)' 이라 하고,
    // 이 체인을 계속 따라가며 검색하는 것을 '프로토타입 체이닝(prototype chaining)' 이라고 합니다.
    var simpleArray = new Array(1, 2); //[1, 2]
    simpleArray.push(3); //[1, 2, 3]
    simpleArray.hasOwnProperty(2); // true
 
    console.dir(simpleArray);

    console.log('3##########################');

</script>
